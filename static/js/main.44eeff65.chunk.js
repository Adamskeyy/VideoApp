(this.webpackJsonpvideoapp=this.webpackJsonpvideoapp||[]).push([[0],{142:function(e,t,i){},143:function(e,t,i){},144:function(e,t,i){},145:function(e,t,i){},147:function(e,t,i){"use strict";i.r(t);var c,n=i(16),a=i.n(n),o=i(6),r=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Video App"}),Object(o.jsx)("h3",{children:"Vimeo & Youtube"})]})},s=i(15),l=i(56),d=i(57),u=i(58),j=i(25),b=i(59),m=i(60),O=(i(95),i(2)),f=i(13),v=i(27),h=i(32),p=i(28),g=i(33),x=i(45),y=i.n(x),w=i(34),S=i.n(w),N=function(e){var t;null===localStorage.getItem("videos")?((t=[]).push(e),localStorage.setItem("videos",JSON.stringify(t))):((t=JSON.parse(localStorage.getItem("videos"))).push(e),localStorage.setItem("videos",JSON.stringify(t)))},k="oldest",I="newest",C="vimeo",A="youtube",D=Object(g.b)("videoApp/fetchVideoById",(function(e,t){var i=e.videoId,c=e.origin,n=t.dispatch;c===A&&y.a.get(function(e){return"https://www.googleapis.com/youtube/v3/videos?id=".concat(e,"&key=").concat("AIzaSyBeD_s0TE2KephzsuFAKzeRxl8jnmgaaJc","&part=snippet,statistics")}(i)).then((function(e){var t=e.data.items[0];n(F(t))})).catch((function(e){e&&n(L("Video not found!"))})),c===C&&y.a.get(function(e){return"https://api.vimeo.com/videos/".concat(e,"?fields=metadata%2C%20pictures%2C%20name&sizes=295x166")}(i),{headers:{Authorization:"Bearer ".concat("f46e7e2154174fb76ee07b754048becc")}}).then((function(e){var t=Object(p.a)(Object(p.a)({},e.data),{},{videoId:i});n(F(t))})).catch((function(e){e&&n(L("Video not found!"))}))})),V=Object(g.c)({name:"videoApp",initialState:{sortType:I,originSite:"",videos:[],errorMessage:"",loading:!1},reducers:{fetchVideos:function(e){e.videos=null===localStorage.getItem("videos")?[]:JSON.parse(localStorage.getItem("videos"))},addVideo:function(e,t){var i,c=t.payload;e.originSite===A&&(i={origin:e.originSite,id:c.id,title:c.snippet.title,views:c.statistics.viewCount,likes:c.statistics.likeCount,thumbnail:c.snippet.thumbnails.medium.url,rawDateTime:S()(),addedAt:S()().format("DD.MM.YYYY, kk:mm"),favourite:!1},e.videos.push(i),N(i)),e.originSite===C&&(i={origin:e.originSite,id:c.videoId,title:c.name,likes:c.metadata.connections.likes.total,thumbnail:c.pictures.sizes[0].link,rawDateTime:S()(),addedAt:S()().format("DD.MM.YYYY, kk:mm"),favourite:!1},e.videos.push(i),N(i))},removeVideo:function(e,t){var i=t.payload;!function(e){var t=JSON.parse(localStorage.getItem("videos"));t.forEach((function(i,c){e===i.id&&t.splice(c,1)})),localStorage.setItem("videos",JSON.stringify(t))}(i),e.videos=Object(h.a)(e.videos.filter((function(e){return e.id!==i})))},clearVideoList:function(e){e.videos=[],localStorage.removeItem("videos")},toggleFavourite:function(e,t){var i=t.payload;!function(e){var t=JSON.parse(localStorage.getItem("videos"));t.forEach((function(i,c){e.id===i.id&&t.splice(c,1,e)})),localStorage.setItem("videos",JSON.stringify(t))}(i),e.videos.forEach((function(t,c){i.id===t.id&&e.videos.splice(c,1,i)}))},sortByOldest:function(e){e.sortType=k},sortByNewest:function(e){e.sortType=I},setErrorMessage:function(e,t){e.errorMessage=t.payload},setOriginSite:function(e,t){e.originSite=t.payload}},extraReducers:(c={},Object(v.a)(c,D.pending,(function(e,t){e.loading=!0})),Object(v.a)(c,D.fulfilled,(function(e,t){e.loading=!1})),Object(v.a)(c,D.rejected,(function(e,t){e.loading=!1})),c)}),T=V.actions,B=T.fetchVideos,F=T.addVideo,J=T.removeVideo,Y=T.clearVideoList,E=T.toggleFavourite,M=T.sortByNewest,z=T.sortByOldest,L=T.setErrorMessage,U=T.setOriginSite,R=V.reducer,$=function(){var e=Object(f.c)((function(e){return e.videoApp.videos})),t=Object(f.b)(),i=function(e){return!!e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})?$/)},c=function(e){return!!e.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)};return{validateInput:function(e,n){var a;return""===e?(t(L("You forgot to pass something!")),!1):"id"===n?function(e){var i=/^\d+$/.test(e);return 11===e.length&&!i||!!i||(t(L("Invalid Video ID!")),!1)}(e):"url"===n?!!i(a=e)||!!c(a)||(t(L("Invalid Video URL!")),!1):void 0},getVideoId:function(e){return e.match(/^.*((youtu.be\/|vimeo.com\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\\&\\?]*).*/)[7]},checkForUniqueId:function(i){return!e.some((function(e){return e.id===i}))||(t(L("Video already in database!")),!1)},getOriginSiteFromId:function(e){var t=/^\d+$/.test(e);return 11!==e.length||t?t?C:void 0:A},getOriginSiteFromUrl:function(e){return i(e)?A:c(e)?C:void 0}}},_=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.videoApp})).errorMessage,i=Object(O.useState)(""),c=Object(s.a)(i,2),n=c[0],a=c[1],r=Object(O.useState)("url"),v=Object(s.a)(r,2),h=v[0],p=v[1],g=$(),x=g.validateInput,y=g.getVideoId,w=g.checkForUniqueId,S=g.getOriginSiteFromId,N=g.getOriginSiteFromUrl;return Object(o.jsxs)(l.a,{className:"inputForm",onSubmit:function(t){t.preventDefault();var i=x(n,h),c=n;if(i&&"url"===h&&(c=y(n)),i&&w(c)){var o="id"===h?S(n):N(n);e(U(o)),e(D({videoId:c,origin:o}))}a("")},children:[Object(o.jsx)(d.a,{children:Object(o.jsxs)(u.a,{children:[Object(o.jsx)(j.a,{active:"url"===h,outline:!0,onClick:function(){return p("url")},children:"URL"}),Object(o.jsx)(j.a,{active:"id"===h,outline:!0,onClick:function(){return p("id")},children:"ID"})]})}),Object(o.jsxs)("div",{className:"inputRow m-2",children:[Object(o.jsxs)(d.a,{className:"position-relative inputBox",children:[Object(o.jsx)(b.a,{invalid:""!==t,type:"text",name:"clipName",id:"clipName",placeholder:"Paste in clip ".concat(h,"..."),value:n,onChange:function(t){e(L("")),a(t.target.value)}}),Object(o.jsx)(m.a,{tooltip:!0,children:t})]}),Object(o.jsx)(j.a,{className:"submitButton ml-2 mr-2 mb-2",type:"submit",color:"primary",children:"Add Clip"})]})]})},P=i(87),q=i.n(P),K=(i(142),i(24)),G=Object(K.a)((function(e){return e.videoApp.videos}),(function(e){return e.videoApp.sortType}),(function(e,t){return t===k?Object(h.a)(e).sort((function(e,t){return new Date(e.rawDateTime).getTime()-new Date(t.rawDateTime).getTime()})):t===I?Object(h.a)(e).sort((function(e,t){return new Date(t.rawDateTime).getTime()-new Date(e.rawDateTime).getTime()})):void 0})),H=i(75),Q=i(77),W=i(76),X=i(79),Z=i(78),ee=(i(143),i(85)),te=i(80),ie=i(81),ce=i(82),ne=(i(144),function(e){var t=e.videoId,i=e.origin,c=e.title,n=Object(O.useState)(!1),a=Object(s.a)(n,2),r=a[0],l=a[1],d=function(){return l(!r)},u="youtube"===i?Object(o.jsx)("div",{className:"video-responsive",children:Object(o.jsx)("iframe",{width:"853",height:"480",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})}):Object(o.jsx)("div",{className:"video-responsive",children:Object(o.jsx)("iframe",{src:"https://player.vimeo.com/video/".concat(t,"?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=210552"),width:"1920",height:"1080",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",title:c})});return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j.a,{className:"m-2",color:"warning",onClick:d,children:"Play"}),Object(o.jsxs)(ee.a,{isOpen:r,toggle:d,children:[Object(o.jsx)(te.a,{toggle:d}),Object(o.jsx)(ie.a,{children:u}),Object(o.jsx)(ce.a,{})]})]})}),ae=function(e){var t=e.video,i=Object(f.b)(),c=t.id,n=t.title,a=t.views,r=t.likes,s=t.addedAt,l=t.thumbnail,d=t.favourite,u=t.origin,b=t.iframe,m=t.favourite?"fa fa-star ml-2 mr-2 checked":"fa fa-star ml-2 mr-2",O="youtube"===u?"https://www.youtube.com/watch?v=".concat(c):"https://vimeo.com/".concat(c);return Object(o.jsx)("li",{className:"listItem",children:Object(o.jsxs)(H.a,{className:"videoCard",children:[Object(o.jsx)(Q.a,{top:!0,width:"100%",src:l,alt:n,style:{cursor:"pointer"},onClick:function(){return window.open(O,"_blank")}}),Object(o.jsxs)(W.a,{className:"cardContent",children:[Object(o.jsxs)("div",{className:"cardData",children:[Object(o.jsx)(X.a,{tag:"h5",children:n}),Object(o.jsx)(Z.a,{tag:"h6",className:"mb-2 text-muted",children:"youtube"===u?Object(o.jsxs)("p",{children:["Views: ",a]}):null}),Object(o.jsx)(Z.a,{tag:"h6",className:"mb-2 text-muted",children:Object(o.jsxs)("p",{children:["Likes: ",r]})}),Object(o.jsx)(Z.a,{tag:"h6",className:"mb-2 text-muted",children:Object(o.jsxs)("p",{children:["Added: ",s]})})]}),Object(o.jsxs)("div",{className:"cardButtons",children:[Object(o.jsx)(ne,{videoId:c,origin:u,iframe:b,title:n}),Object(o.jsx)(j.a,{onClick:function(){var e=Object(p.a)(Object(p.a)({},t),{},{favourite:!d});i(E(e))},color:"secondary",children:Object(o.jsx)("span",{className:m})}),Object(o.jsx)(j.a,{className:"m-2",color:"danger",onClick:function(){return i(J(c))},children:"Delete"})]})]})]})})},oe=i(20),re=i(84),se=i(62),le=i(61),de=function(){var e=Object(f.b)(),t=Object(O.useState)(!1),i=Object(s.a)(t,2),c=i[0],n=i[1];return Object(o.jsxs)(oe.a,{style:{display:"inline-block"},className:"m-2",isOpen:c,toggle:function(){return n((function(e){return!e}))},children:[Object(o.jsx)(re.a,{caret:!0,children:"Sort by"}),Object(o.jsxs)(se.a,{children:[Object(o.jsx)(le.a,{onClick:function(){return e(z())},children:"Oldest"}),Object(o.jsx)(le.a,{onClick:function(){return e(M())},children:"Newest"})]})]})},ue=function(){var e=Object(O.useState)(!1),t=Object(s.a)(e,2),i=t[0],c=t[1],n=Object(f.b)(),a=function(){return c(!i)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j.a,{className:"m-2",color:"danger",onClick:a,children:"Delete All"}),Object(o.jsxs)(ee.a,{isOpen:i,toggle:a,children:[Object(o.jsx)(te.a,{toggle:a}),Object(o.jsx)(ie.a,{children:"Are you sure?"}),Object(o.jsxs)(ce.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(o.jsx)(j.a,{className:"m-2",color:"danger",onClick:function(){n(Y()),a()},children:"Yes"})," ",Object(o.jsx)(j.a,{className:"m-2",color:"secondary",onClick:a,children:"No"})]})]})]})},je=function(){var e=Object(f.b)(),t=Object(f.c)(G),i=Object(O.useState)(!1),c=Object(s.a)(i,2),n=c[0],a=c[1],r=Object(O.useState)(!1),l=Object(s.a)(r,2),d=l[0],b=l[1],m=Object(O.useState)(1),v=Object(s.a)(m,2),h=v[0],p=v[1],g=8*(h-1),x=8*h,y=t.filter((function(e){return!d||e.favourite})),w=y.slice(g,x);Object(O.useEffect)((function(){e(B())}),[e]);var S=d?"fa fa-star checked":"fa fa-star",N=y.length?Object(o.jsx)("ul",{className:n?"videoList":"videoGrid",children:w.map((function(e){return Object(o.jsx)(ae,{video:e},e.id)}))}):Object(o.jsx)("p",{children:"There is nothing to display!"}),k=Object(o.jsxs)("div",{className:"controlBar",children:[Object(o.jsxs)("div",{className:"controlButtons",children:[Object(o.jsxs)(u.a,{className:"m-2",children:[Object(o.jsx)(j.a,{active:n,outline:!0,onClick:function(){return a(!0)},children:Object(o.jsx)("i",{className:"fa fa-bars"})}),Object(o.jsx)(j.a,{active:!n,outline:!0,onClick:function(){return a(!1)},children:Object(o.jsx)("i",{className:"fa fa-th-large"})})]}),Object(o.jsx)(de,{}),Object(o.jsx)(j.a,{className:"m-2",onClick:function(){b((function(e){return!e}))},color:"secondary",children:Object(o.jsx)("span",{className:S})})]}),Object(o.jsx)(ue,{})]}),I=y.length?Object(o.jsx)(q.a,{defaultActivePage:h,totalItems:y.length,pageSize:8,onSelect:function(e){p(e)}}):null;return Object(o.jsxs)(o.Fragment,{children:[k,N,I]})};i(145);var be=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(r,{}),Object(o.jsx)(_,{}),Object(o.jsx)(je,{})]})},me=(i(146),Object(g.a)({reducer:{videoApp:R},middleware:function(e){return e({thunk:{extraArgument:D},serializableCheck:!1})}})),Oe=Object(o.jsx)(f.a,{store:me,children:Object(o.jsx)(be,{})});a.a.render(Oe,document.getElementById("root"))},95:function(e,t,i){}},[[147,1,2]]]);
//# sourceMappingURL=main.44eeff65.chunk.js.map